-- -------------------------------------------------------------
-- 
-- File Name: /home/cb54103/Documents/fpga-open-speech-tools/simulink_models/models/Dynamic_Compression_Model/hdlsrc/sm_DynamicCompression/sm_DynamicCompression_MATLAB_Function.vhd
-- 
-- Generated by MATLAB 9.7 and HDL Coder 3.15
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: sm_DynamicCompression_MATLAB_Function
-- Source Path: sm_DynamicCompression/dataplane/Avalon Data Processing/Left Channel Processing/recalculate/Nchan_FbankAGC_AID/Compression_1/Compression_Gain_Calc/LogAddressing/MATLAB 
-- Functio
-- Hierarchy Level: 8
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY sm_DynamicCompression_MATLAB_Function IS
  PORT( x                                 :   IN    std_logic_vector(39 DOWNTO 0);  -- ufix40_En36
        lzc_count                         :   OUT   std_logic_vector(5 DOWNTO 0)  -- ufix6
        );
END sm_DynamicCompression_MATLAB_Function;


ARCHITECTURE rtl OF sm_DynamicCompression_MATLAB_Function IS

  ATTRIBUTE multstyle : string;

  -- Signals
  SIGNAL x_unsigned                       : unsigned(39 DOWNTO 0);  -- ufix40_En36
  SIGNAL lzc_count_tmp                    : unsigned(5 DOWNTO 0);  -- ufix6

BEGIN
  x_unsigned <= unsigned(x);

  MATLAB_Function_output : PROCESS (x_unsigned)
  BEGIN
    --MATLAB Function 'dataplane/Avalon Data Processing/Left Channel Processing/recalculate/Nchan_FbankAGC_AID/Compression_1/Compression_Gain_Calc/LogAddressing/MATLAB Function': '<S115>:1'
    -- -- Binary Bisection Tree (Divide & Conquer)
    IF (x_unsigned(39) OR x_unsigned(38) OR x_unsigned(37) OR x_unsigned(36) OR x_unsigned(35) OR x_unsigned(34) OR x_unsigned(33) OR x_unsigned(32) OR x_unsigned(31) OR x_unsigned(30) OR x_unsigned(29) OR x_unsigned(28) OR x_unsigned(27) OR x_unsigned(26) OR x_unsigned(25) OR x_unsigned(24) OR x_unsigned(23) OR x_unsigned(22) OR x_unsigned(21) OR x_unsigned(20)) = '1' THEN 
      --'<S115>:1:5'
      --       if ((b39 or b38 or b37 or b36 or b35 or b34 or b33 or b32 or b31 or b30 or b29 or b28 or b27 or b26 or b25 or b24 or b23 or b22 or b21 or b20) = '1') then   -- check bit range [39  20]
      IF (x_unsigned(39) OR x_unsigned(38) OR x_unsigned(37) OR x_unsigned(36) OR x_unsigned(35) OR x_unsigned(34) OR x_unsigned(33) OR x_unsigned(32) OR x_unsigned(31) OR x_unsigned(30)) = '1' THEN 
        --'<S115>:1:6'
        --             if ((b39 or b38 or b37 or b36 or b35 or b34 or b33 or b32 or b31 or b30) = '1') then   -- check bit range [39  30]
        IF (x_unsigned(39) OR x_unsigned(38) OR x_unsigned(37) OR x_unsigned(36) OR x_unsigned(35)) = '1' THEN 
          --'<S115>:1:7'
          --                 if ((b39 or b38 or b37 or b36 or b35) = '1') then   -- check bit range [39  35]
          IF (x_unsigned(39) OR x_unsigned(38) OR x_unsigned(37)) = '1' THEN 
            --'<S115>:1:8'
            --                     if ((b39 or b38 or b37) = '1') then   -- check bit range [39  37]
            IF (x_unsigned(39) OR x_unsigned(38)) = '1' THEN 
              --'<S115>:1:9'
              --                         if ((b39 or b38) = '1') then   -- check bit range [39  38]
              IF x_unsigned(39) = '1' THEN 
                --'<S115>:1:10'
                --                             if (b39 = '1') then   -- [39]
                --'<S115>:1:11'
                lzc_count_tmp <= to_unsigned(16#00#, 6);
                --                                 lzc_count <= "000000";  -- lzc = 0
              ELSE 
                --                             else  -- check bit range [38]
                --'<S115>:1:13'
                lzc_count_tmp <= to_unsigned(16#01#, 6);
                --                                 lzc_count <= "000001";  -- lzc = 1
              END IF;
              --                             end if;
            ELSE 
              --                         else  -- check bit range [37]
              --'<S115>:1:16'
              lzc_count_tmp <= to_unsigned(16#02#, 6);
              --                             lzc_count <= "000010";  -- lzc = 2
            END IF;
            --                         end if;
          ELSE 
            --                     else  -- check bit range [36  35]
            IF x_unsigned(36) = '1' THEN 
              --'<S115>:1:19'
              --                         if (b36 = '1') then   -- [36]
              --'<S115>:1:20'
              lzc_count_tmp <= to_unsigned(16#03#, 6);
              --                             lzc_count <= "000011";  -- lzc = 3
            ELSE 
              --                         else  -- check bit range [35]
              --'<S115>:1:22'
              lzc_count_tmp <= to_unsigned(16#04#, 6);
              --                             lzc_count <= "000100";  -- lzc = 4
            END IF;
            --                         end if;
          END IF;
          --                     end if;
        ELSE 
          --                 else  -- check bit range [34  30]
          IF (x_unsigned(34) OR x_unsigned(33) OR x_unsigned(32)) = '1' THEN 
            --'<S115>:1:26'
            --                     if ((b34 or b33 or b32) = '1') then   -- check bit range [34  32]
            IF (x_unsigned(34) OR x_unsigned(33)) = '1' THEN 
              --'<S115>:1:27'
              --                         if ((b34 or b33) = '1') then   -- check bit range [34  33]
              IF x_unsigned(34) = '1' THEN 
                --'<S115>:1:28'
                --                             if (b34 = '1') then   -- [34]
                --'<S115>:1:29'
                lzc_count_tmp <= to_unsigned(16#05#, 6);
                --                                 lzc_count <= "000101";  -- lzc = 5
              ELSE 
                --                             else  -- check bit range [33]
                --'<S115>:1:31'
                lzc_count_tmp <= to_unsigned(16#06#, 6);
                --                                 lzc_count <= "000110";  -- lzc = 6
              END IF;
              --                             end if;
            ELSE 
              --                         else  -- check bit range [32]
              --'<S115>:1:34'
              lzc_count_tmp <= to_unsigned(16#07#, 6);
              --                             lzc_count <= "000111";  -- lzc = 7
            END IF;
            --                         end if;
          ELSE 
            --                     else  -- check bit range [31  30]
            IF x_unsigned(31) = '1' THEN 
              --'<S115>:1:37'
              --                         if (b31 = '1') then   -- [31]
              --'<S115>:1:38'
              lzc_count_tmp <= to_unsigned(16#08#, 6);
              --                             lzc_count <= "001000";  -- lzc = 8
            ELSE 
              --                         else  -- check bit range [30]
              --'<S115>:1:40'
              lzc_count_tmp <= to_unsigned(16#09#, 6);
              --                             lzc_count <= "001001";  -- lzc = 9
            END IF;
            --                         end if;
          END IF;
          --                     end if;
        END IF;
        --                 end if;
      ELSE 
        --             else  -- check bit range [29  20]
        IF (x_unsigned(29) OR x_unsigned(28) OR x_unsigned(27) OR x_unsigned(26) OR x_unsigned(25)) = '1' THEN 
          --'<S115>:1:45'
          --                 if ((b29 or b28 or b27 or b26 or b25) = '1') then   -- check bit range [29  25]
          IF (x_unsigned(29) OR x_unsigned(28) OR x_unsigned(27)) = '1' THEN 
            --'<S115>:1:46'
            --                     if ((b29 or b28 or b27) = '1') then   -- check bit range [29  27]
            IF (x_unsigned(29) OR x_unsigned(28)) = '1' THEN 
              --'<S115>:1:47'
              --                         if ((b29 or b28) = '1') then   -- check bit range [29  28]
              IF x_unsigned(29) = '1' THEN 
                --'<S115>:1:48'
                --                             if (b29 = '1') then   -- [29]
                --'<S115>:1:49'
                lzc_count_tmp <= to_unsigned(16#0A#, 6);
                --                                 lzc_count <= "001010";  -- lzc = 10
              ELSE 
                --                             else  -- check bit range [28]
                --'<S115>:1:51'
                lzc_count_tmp <= to_unsigned(16#0B#, 6);
                --                                 lzc_count <= "001011";  -- lzc = 11
              END IF;
              --                             end if;
            ELSE 
              --                         else  -- check bit range [27]
              --'<S115>:1:54'
              lzc_count_tmp <= to_unsigned(16#0C#, 6);
              --                             lzc_count <= "001100";  -- lzc = 12
            END IF;
            --                         end if;
          ELSE 
            --                     else  -- check bit range [26  25]
            IF x_unsigned(26) = '1' THEN 
              --'<S115>:1:57'
              --                         if (b26 = '1') then   -- [26]
              --'<S115>:1:58'
              lzc_count_tmp <= to_unsigned(16#0D#, 6);
              --                             lzc_count <= "001101";  -- lzc = 13
            ELSE 
              --                         else  -- check bit range [25]
              --'<S115>:1:60'
              lzc_count_tmp <= to_unsigned(16#0E#, 6);
              --                             lzc_count <= "001110";  -- lzc = 14
            END IF;
            --                         end if;
          END IF;
          --                     end if;
        ELSE 
          --                 else  -- check bit range [24  20]
          IF (x_unsigned(24) OR x_unsigned(23) OR x_unsigned(22)) = '1' THEN 
            --'<S115>:1:64'
            --                     if ((b24 or b23 or b22) = '1') then   -- check bit range [24  22]
            IF (x_unsigned(24) OR x_unsigned(23)) = '1' THEN 
              --'<S115>:1:65'
              --                         if ((b24 or b23) = '1') then   -- check bit range [24  23]
              IF x_unsigned(24) = '1' THEN 
                --'<S115>:1:66'
                --                             if (b24 = '1') then   -- [24]
                --'<S115>:1:67'
                lzc_count_tmp <= to_unsigned(16#0F#, 6);
                --                                 lzc_count <= "001111";  -- lzc = 15
              ELSE 
                --                             else  -- check bit range [23]
                --'<S115>:1:69'
                lzc_count_tmp <= to_unsigned(16#10#, 6);
                --                                 lzc_count <= "010000";  -- lzc = 16
              END IF;
              --                             end if;
            ELSE 
              --                         else  -- check bit range [22]
              --'<S115>:1:72'
              lzc_count_tmp <= to_unsigned(16#11#, 6);
              --                             lzc_count <= "010001";  -- lzc = 17
            END IF;
            --                         end if;
          ELSE 
            --                     else  -- check bit range [21  20]
            IF x_unsigned(21) = '1' THEN 
              --'<S115>:1:75'
              --                         if (b21 = '1') then   -- [21]
              --'<S115>:1:76'
              lzc_count_tmp <= to_unsigned(16#12#, 6);
              --                             lzc_count <= "010010";  -- lzc = 18
            ELSE 
              --                         else  -- check bit range [20]
              --'<S115>:1:78'
              lzc_count_tmp <= to_unsigned(16#13#, 6);
              --                             lzc_count <= "010011";  -- lzc = 19
            END IF;
            --                         end if;
          END IF;
          --                     end if;
        END IF;
        --                 end if;
      END IF;
      --             end if;
    ELSE 
      --         else  -- check bit range [19   0]
      IF (x_unsigned(19) OR x_unsigned(18) OR x_unsigned(17) OR x_unsigned(16) OR x_unsigned(15) OR x_unsigned(14) OR x_unsigned(13) OR x_unsigned(12) OR x_unsigned(11) OR x_unsigned(10)) = '1' THEN 
        --'<S115>:1:84'
        --             if ((b19 or b18 or b17 or b16 or b15 or b14 or b13 or b12 or b11 or b10) = '1') then   -- check bit range [19  10]
        IF (x_unsigned(19) OR x_unsigned(18) OR x_unsigned(17) OR x_unsigned(16) OR x_unsigned(15)) = '1' THEN 
          --'<S115>:1:85'
          --                 if ((b19 or b18 or b17 or b16 or b15) = '1') then   -- check bit range [19  15]
          IF (x_unsigned(19) OR x_unsigned(18) OR x_unsigned(17)) = '1' THEN 
            --'<S115>:1:86'
            --                     if ((b19 or b18 or b17) = '1') then   -- check bit range [19  17]
            IF (x_unsigned(19) OR x_unsigned(18)) = '1' THEN 
              --'<S115>:1:87'
              --                         if ((b19 or b18) = '1') then   -- check bit range [19  18]
              IF x_unsigned(19) = '1' THEN 
                --'<S115>:1:88'
                --                             if (b19 = '1') then   -- [19]
                --'<S115>:1:89'
                lzc_count_tmp <= to_unsigned(16#14#, 6);
                --                                 lzc_count <= "010100";  -- lzc = 20
              ELSE 
                --                             else  -- check bit range [18]
                --'<S115>:1:91'
                lzc_count_tmp <= to_unsigned(16#15#, 6);
                --                                 lzc_count <= "010101";  -- lzc = 21
              END IF;
              --                             end if;
            ELSE 
              --                         else  -- check bit range [17]
              --'<S115>:1:94'
              lzc_count_tmp <= to_unsigned(16#16#, 6);
              --                             lzc_count <= "010110";  -- lzc = 22
            END IF;
            --                         end if;
          ELSE 
            --                     else  -- check bit range [16  15]
            IF x_unsigned(16) = '1' THEN 
              --'<S115>:1:97'
              --                         if (b16 = '1') then   -- [16]
              --'<S115>:1:98'
              lzc_count_tmp <= to_unsigned(16#17#, 6);
              --                             lzc_count <= "010111";  -- lzc = 23
            ELSE 
              --                         else  -- check bit range [15]
              --'<S115>:1:100'
              lzc_count_tmp <= to_unsigned(16#18#, 6);
              --                             lzc_count <= "011000";  -- lzc = 24
            END IF;
            --                         end if;
          END IF;
          --                     end if;
        ELSE 
          --                 else  -- check bit range [14  10]
          IF (x_unsigned(14) OR x_unsigned(13) OR x_unsigned(12)) = '1' THEN 
            --'<S115>:1:104'
            --                     if ((b14 or b13 or b12) = '1') then   -- check bit range [14  12]
            IF (x_unsigned(14) OR x_unsigned(13)) = '1' THEN 
              --'<S115>:1:105'
              --                         if ((b14 or b13) = '1') then   -- check bit range [14  13]
              IF x_unsigned(14) = '1' THEN 
                --'<S115>:1:106'
                --                             if (b14 = '1') then   -- [14]
                --'<S115>:1:107'
                lzc_count_tmp <= to_unsigned(16#19#, 6);
                --                                 lzc_count <= "011001";  -- lzc = 25
              ELSE 
                --                             else  -- check bit range [13]
                --'<S115>:1:109'
                lzc_count_tmp <= to_unsigned(16#1A#, 6);
                --                                 lzc_count <= "011010";  -- lzc = 26
              END IF;
              --                             end if;
            ELSE 
              --                         else  -- check bit range [12]
              --'<S115>:1:112'
              lzc_count_tmp <= to_unsigned(16#1B#, 6);
              --                             lzc_count <= "011011";  -- lzc = 27
            END IF;
            --                         end if;
          ELSE 
            --                     else  -- check bit range [11  10]
            IF x_unsigned(11) = '1' THEN 
              --'<S115>:1:115'
              --                         if (b11 = '1') then   -- [11]
              --'<S115>:1:116'
              lzc_count_tmp <= to_unsigned(16#1C#, 6);
              --                             lzc_count <= "011100";  -- lzc = 28
            ELSE 
              --                         else  -- check bit range [10]
              --'<S115>:1:118'
              lzc_count_tmp <= to_unsigned(16#1D#, 6);
              --                             lzc_count <= "011101";  -- lzc = 29
            END IF;
            --                         end if;
          END IF;
          --                     end if;
        END IF;
        --                 end if;
      ELSE 
        --             else  -- check bit range [9  0]
        IF (x_unsigned(9) OR x_unsigned(8) OR x_unsigned(7) OR x_unsigned(6) OR x_unsigned(5)) = '1' THEN 
          --'<S115>:1:123'
          --                 if ((b9 or b8 or b7 or b6 or b5) = '1') then   -- check bit range [9  5]
          IF (x_unsigned(9) OR x_unsigned(8)) = '1' THEN 
            --'<S115>:1:124'
            --                     if ((b9 or b8 or b7) = '1') then   -- check bit range [9  7]
            IF (x_unsigned(9) OR x_unsigned(8)) = '1' THEN 
              --'<S115>:1:125'
              --                         if ((b9 or b8) = '1') then   -- check bit range [9  8]
              IF x_unsigned(9) = '1' THEN 
                --'<S115>:1:126'
                --                             if (b9 = '1') then   -- [9]
                --'<S115>:1:127'
                lzc_count_tmp <= to_unsigned(16#1E#, 6);
                --                                 lzc_count <= "011110";  -- lzc = 30
              ELSE 
                --                             else  -- check bit range [8]
                --'<S115>:1:129'
                lzc_count_tmp <= to_unsigned(16#1F#, 6);
                --                                 lzc_count <= "011111";  -- lzc = 31
              END IF;
              --                             end if;
            ELSE 
              --                         else  -- check bit range [7]
              --'<S115>:1:132'
              lzc_count_tmp <= to_unsigned(16#20#, 6);
              --                             lzc_count <= "100000";  -- lzc = 32
            END IF;
            --                         end if;
          ELSE 
            --                     else  -- check bit range [6  5]
            IF x_unsigned(6) = '1' THEN 
              --'<S115>:1:135'
              --                         if (b6 = '1') then   -- [6]
              --'<S115>:1:136'
              lzc_count_tmp <= to_unsigned(16#21#, 6);
              --                             lzc_count <= "100001";  -- lzc = 33
            ELSE 
              --                         else  -- check bit range [5]
              --'<S115>:1:138'
              lzc_count_tmp <= to_unsigned(16#22#, 6);
              --                             lzc_count <= "100010";  -- lzc = 34
            END IF;
            --                         end if;
          END IF;
          --                     end if;
        ELSE 
          --                 else  -- check bit range [4  0]
          IF (x_unsigned(4) OR x_unsigned(3) OR x_unsigned(2)) = '1' THEN 
            --'<S115>:1:142'
            --                     if ((b4 or b3 or b2) = '1') then   -- check bit range [4  2]
            IF (x_unsigned(4) OR x_unsigned(3)) = '1' THEN 
              --'<S115>:1:143'
              --                         if ((b4 or b3) = '1') then   -- check bit range [4  3]
              IF x_unsigned(4) = '1' THEN 
                --'<S115>:1:144'
                --                             if (b4 = '1') then   -- [4]
                --'<S115>:1:145'
                lzc_count_tmp <= to_unsigned(16#23#, 6);
                --                                 lzc_count <= "100011";  -- lzc = 35
              ELSE 
                --                             else  -- check bit range [3]
                --'<S115>:1:147'
                lzc_count_tmp <= to_unsigned(16#24#, 6);
                --                                 lzc_count <= "100100";  -- lzc = 36
              END IF;
              --                             end if;
            ELSE 
              --                         else  -- check bit range [2]
              --'<S115>:1:150'
              lzc_count_tmp <= to_unsigned(16#25#, 6);
              --                             lzc_count <= "100101";  -- lzc = 37
            END IF;
            --                         end if;
          ELSE 
            --                     else  -- check bit range [1  0]
            IF x_unsigned(1) = '1' THEN 
              --'<S115>:1:153'
              --                         if (b1 = '1') then   -- [1]
              --'<S115>:1:154'
              lzc_count_tmp <= to_unsigned(16#26#, 6);
              --                             lzc_count <= "100110";  -- lzc = 38
            ELSE 
              --                         else  -- check bit range [0]
              --'<S115>:1:156'
              lzc_count_tmp <= to_unsigned(16#27#, 6);
              --                             lzc_count <= "100111";  -- lzc = 39
            END IF;
            --                         end if;
          END IF;
          --                     end if;
        END IF;
        --                 end if;
      END IF;
      --             end if;
    END IF;
    --         end if;
  END PROCESS MATLAB_Function_output;


  lzc_count <= std_logic_vector(lzc_count_tmp);

END rtl;

